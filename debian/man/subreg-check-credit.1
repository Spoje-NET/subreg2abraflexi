.TH SUBREG-CHECK-CREDIT 1 "February 2026" "subreg2abraflexi 1.1.2" "User Commands"
.SH NAME
subreg-check-credit \- Check Subreg account credit for customers
.SH SYNOPSIS
.B subreg-check-credit
[\fB\-o\fR \fIoutput\fR]
[\fB\-e\fR \fIenvironment\fR]
[\fB\-\-output\fR=\fIfile\fR]
[\fB\-\-environment\fR=\fIfile\fR]
.SH DESCRIPTION
.B subreg-check-credit
checks the credit balance for customers in both AbraFlexi and Subreg systems.
It retrieves customer information from AbraFlexi and queries the corresponding
Subreg account credit through the API. The tool outputs a comparison report
showing credit information for matched customers.
.SH OPTIONS
.TP
\fB\-o\fR, \fB\-\-output\fR=\fIFILE\fR
Write output JSON data to FILE instead of stdout
.TP
\fB\-e\fR, \fB\-\-environment\fR=\fIFILE\fR
Load environment variables from FILE (default: ../.env)
.SH ENVIRONMENT
The following environment variables are used:
.TP
.B ABRAFLEXI_URL
AbraFlexi server URI (e.g., https://demo.flexibee.eu:5434)
.TP
.B ABRAFLEXI_LOGIN
AbraFlexi username
.TP
.B ABRAFLEXI_PASSWORD
AbraFlexi password
.TP
.B ABRAFLEXI_COMPANY
AbraFlexi company code
.TP
.B SUBREG_URI
Subreg SOAP endpoint (default: https://soap.subreg.cz/soap)
.TP
.B SUBREG_LOCATION
Subreg command endpoint (default: https://soap.subreg.cz/cmd.php)
.TP
.B SUBREG_LOGIN
Subreg username
.TP
.B SUBREG_PASSWORD
Subreg password
.TP
.B APP_DEBUG
Enable debug output (true/false)
.TP
.B RESULT_FILE
Default output file for results
.SH OUTPUT
The tool outputs JSON data containing customer credit information with the following structure:
.IP \(bu 2
subreg_id: Customer ID in Subreg system
.IP \(bu 2
subreg_credit: Current credit balance in Subreg
.IP \(bu 2
Additional customer details from both systems
.SH EXIT STATUS
.TP
0
Success
.TP
1
Error during credit check
.SH FILES
.TP
.I ../.env
Default environment file
.SH AUTHOR
Vítězslav Dvořák <info@vitexsoftware.cz>
.SH SEE ALSO
.BR subreg2abraflexi (1),
.BR subreg-users-report (1)